<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>IPL Style Scorebar</title>
<link href="https://fonts.googleapis.com/css2?family=Rubik:wght@700;800&display=swap" rel="stylesheet">

<style>
:root{
  --dark:#2b2f4a;
  --dark2:#1f2236;
  --yellow:#f6c700;
  --white:#ffffff;
}

html,body{
  margin:0;
  background:transparent;
  font-family:'Rubik',sans-serif;
}

.bar{
  width:1920px;
  height:100px;
  background:linear-gradient(180deg,var(--dark),var(--dark2));
  display:flex;
  align-items:center;
  padding:0 20px;
  box-sizing:border-box;
  color:var(--white);
}

/* LEFT TEAM */
.teams{
  font-size:26px;
  font-weight:800;
  margin-right:20px;
  white-space:nowrap;
}

/* SCORE BLOCK */
.scoreBox{
  background:var(--yellow);
  color:#000;
  font-size:44px;
  font-weight:800;
  padding:10px 22px;
  border-radius:6px;
  margin-right:16px;
}

/* OVERS */
.overs{
  font-size:18px;
  opacity:.9;
  margin-right:30px;
}

/* BATSMEN */
.batsmen{
  display:flex;
  gap:22px;
  flex:1;
}

.bat{
  background:rgba(255,255,255,0.08);
  padding:8px 14px;
  border-radius:6px;
  font-size:20px;
  white-space:nowrap;
}

.bat span{
  font-size:16px;
  opacity:.85;
}

/* TARGET BOX */
.targetBox{
  display:flex;
  align-items:center;
  gap:10px;
}

.targetBig{
  background:var(--yellow);
  color:#000;
  font-size:42px;
  font-weight:800;
  padding:10px 20px;
  border-radius:6px;
}

.targetText{
  font-size:16px;
  opacity:.9;
}
</style>
</head>

<body>

<div class="bar">

  <!-- TEAMS -->
  <div class="teams" id="teams">IXIP v KKR</div>

  <!-- SCORE -->
  <div class="scoreBox" id="score">130–2</div>

  <!-- OVERS -->
  <div class="overs" id="overs">OVERS 13.2</div>

  <!-- BATSMEN -->
  <div class="batsmen">
    <div class="bat" id="bat1">M PANDEY <span>63 (39)</span></div>
    <div class="bat" id="bat2">Y PATHAN* <span>36 (21)</span></div>
  </div>

  <!-- TARGET -->
  <div class="targetBox">
    <div class="targetBig" id="target">70</div>
    <div class="targetText">RUNS TO WIN<br>40 BALLS LEFT</div>
  </div>

</div>

<script>
/* FEED URL – replace if needed */
const FEED = "https://script.google.com/macros/s/AKfycbw_RRTNhUeFIzDgsu5pVCUT0wNko-C9ejjKWTM25tQYcUO-Qa9M1yFORmA_yTvd2K91Nw/exec";
const CB = "iplCallback";

function load(){
  const s=document.createElement("script");
  s.src=FEED+"?callback="+CB+"&_="+Date.now();
  document.body.appendChild(s);
  s.onload=()=>s.remove();
}
setInterval(load,1000);

function iplCallback(d){
  if(!d) return;

  document.getElementById("teams").textContent =
    (d.team||"") + " v " + (d.opponent||"");

  document.getElementById("score").textContent = d.score||"0-0";
  document.getElementById("overs").textContent = "OVERS " + (d.overs||"0.0");

  const b1=d.batsmen?.[0]||{};
  const b2=d.batsmen?.[1]||{};

  document.getElementById("bat1").innerHTML =
    `${b1.name||""}${b1.striker?"*":""} <span>${b1.runs||0} (${b1.balls||0})</span>`;

  document.getElementById("bat2").innerHTML =
    `${b2.name||""}${b2.striker?"*":""} <span>${b2.runs||0} (${b2.balls||0})</span>`;

  if(d.target){
    const ballsLeft = Math.max(0,(d.totalBalls||120)-(d.ballsBowled||0));
    document.getElementById("target").textContent =
      Math.max(0,d.target-d.runs);
    document.querySelector(".targetText").innerHTML =
      "RUNS TO WIN<br>"+ballsLeft+" BALLS LEFT";
  }
}
</script>

</body>
</html>
